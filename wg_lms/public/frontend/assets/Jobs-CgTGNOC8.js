import{i as N,a as w,o as n,e as l,b as h,t as o,f as r,u as e,cr as S,ch as R,h as b,w as d,l as x,a1 as j,y as m,x as L,z as q,c as D,J as T,B as M,E,r as H,q as I,P as Q,n as W,cs as A,L as $,aI as G,F as K,g as X}from"./index-CZIp1LU6.js";import{_ as Y}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-B2fdcvTt.js";import{_ as Z}from"./EmptyState.vue_vue_type_script_setup_true_lang-Cua88j6p.js";const ee={class:"flex flex-col border rounded-md p-3 h-full hover:border-outline-gray-3"},ae={class:"flex space-x-4 mb-4"},le={class:"flex flex-col space-y-2 flex-1 break-all"},te={class:"text-lg font-semibold text-ink-gray-9"},se={class:"font-medium text-ink-gray-7 leading-5"},oe={class:"flex items-center space-x-1 text-sm text-ink-gray-7"},ne={key:0,class:"flex items-center space-x-1 text-sm text-ink-gray-7"},re={class:"space-x-2 mt-auto"},ie={__name:"JobCard",props:{job:{type:Object,default:null}},setup(t){const f=N("$dayjs");return(u,p)=>(n(),w("div",ee,[l("div",ae,[l("div",le,[l("div",te,o(t.job.company_name),1),l("span",se,o(t.job.job_title),1),l("div",oe,[r(e(S),{class:"size-3"}),l("span",null,o(t.job.location)+o(t.job.country?`, ${t.job.country}`:""),1)]),t.job.applicants?(n(),w("div",ne,[r(e(R),{class:"size-3"}),l("span",null,o(t.job.applicants)+" "+o(t.job.applicants>1?u.__("applicants"):u.__("applicant")),1)])):h("",!0)])]),l("div",re,[r(e(j),null,{default:d(()=>[x(o(t.job.type),1)]),_:1}),t.job.work_mode?(n(),b(e(j),{key:0},{default:d(()=>[x(o(t.job.work_mode),1)]),_:1})):h("",!0),r(e(j),null,{default:d(()=>[x(o(e(f)(t.job.creation).fromNow()),1)]),_:1})])]))}},ue={class:""},ce={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},de={class:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:items-center justify-between w-full md:w-4/5 mx-auto p-5"},me={class:"text-xl font-semibold text-ink-gray-7 mb-4 md:mb-0"},pe={key:0,class:"w-full md:w-4/5 mx-auto p-5 pt-0"},_e={class:"grid grid-cols-1 lg:grid-cols-3 gap-4"},ye={__name:"Jobs",setup(t){const f=N("$user"),u=m(null),p=m(null),{brand:O}=L(),_=m(""),y=m(null),i=m({}),k=m({}),V=m(0),P=window.read_only_mode;q(()=>{let a=new URLSearchParams(location.search);a.has("type")&&(u.value=a.get("type")),a.has("work_mode")&&(p.value=a.get("work_mode")),g()});const v=D({url:"wg_lms.lms.api.get_job_opportunities",cache:["jobs"]}),g=()=>{U(),v.update({params:{filters:i.value,orFilters:k.value}}),v.reload()},U=()=>{i.value.status="Open",i.value.disabled=0,u.value?i.value.type=u.value:delete i.value.type,p.value?i.value.work_mode=p.value:delete i.value.work_mode,_.value?k.value={job_title:["like",`%${_.value}%`],company_name:["like",`%${_.value}%`],location:["like",`%${_.value}%`]}:k.value={},y.value?i.value.country=y.value:delete i.value.country};T(y,a=>{g()}),T(v,()=>{var a;V.value=((a=v.data)==null?void 0:a.length)||0});const z=M(()=>["",{label:__("Full Time"),value:"Full Time"},{label:__("Part Time"),value:"Part Time"},{label:__("Contract"),value:"Contract"},{label:__("Freelance"),value:"Freelance"}]),B=M(()=>["",{label:"On site",value:"On-site"},{label:"Hybrid",value:"Hybrid"},{label:"Remote",value:"Remote"}]);return E(()=>({title:__("Jobs"),icon:O.favicon})),(a,c)=>{var J,F;const C=H("router-link");return n(),w("div",ue,[l("header",ce,[r(e(Y),{class:"h-7",items:[{label:a.__("Jobs"),route:{name:"Jobs"}}]},null,8,["items"]),(J=e(f).data)!=null&&J.name?(n(),b(C,{key:0,to:{name:"JobForm",params:{jobName:"new"}}},{default:d(()=>[e(P)?h("",!0):(n(),b(e(I),{key:0,variant:"solid"},{prefix:d(()=>[r(e(Q),{class:"h-4 w-4"})]),default:d(()=>[x(" "+o(a.__("New Job")),1)]),_:1}))]),_:1})):h("",!0)]),l("div",null,[l("div",de,[l("div",me,o(a.__("{0} Open Jobs").format(V.value)),1),l("div",{class:W(["grid grid-cols-1 gap-2 md:grid-cols-4",e(f).data?"md:grid-cols-3":"md:grid-cols-2"])},[r(e($),{type:"text",placeholder:a.__("Search"),modelValue:_.value,"onUpdate:modelValue":c[0]||(c[0]=s=>_.value=s),class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",onInput:g},{prefix:d(()=>[r(e(A),{class:"w-4 h-4 stroke-1.5 text-ink-gray-5",name:"search"})]),_:1},8,["placeholder","modelValue"]),e(f).data?(n(),b(G,{key:0,doctype:"Country",modelValue:y.value,"onUpdate:modelValue":c[1]||(c[1]=s=>y.value=s),placeholder:a.__("Country"),class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40"},null,8,["modelValue","placeholder"])):h("",!0),r(e($),{modelValue:u.value,"onUpdate:modelValue":c[2]||(c[2]=s=>u.value=s),type:"select",options:z.value,class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",placeholder:a.__("Type"),onChange:g},null,8,["modelValue","options","placeholder"]),r(e($),{modelValue:p.value,"onUpdate:modelValue":c[3]||(c[3]=s=>p.value=s),type:"select",options:B.value,class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",placeholder:a.__("Work Mode"),onChange:g},null,8,["modelValue","options","placeholder"])],2)]),(F=e(v).data)!=null&&F.length?(n(),w("div",pe,[l("div",_e,[(n(!0),w(K,null,X(e(v).data,s=>(n(),b(C,{to:{name:"JobDetail",params:{job:s.name}},key:s.name},{default:d(()=>[r(ie,{job:s},null,8,["job"])]),_:2},1032,["to"]))),128))])])):(n(),b(Z,{key:1,type:"Job Openings"}))])])}}};export{ye as default};
//# sourceMappingURL=Jobs-CgTGNOC8.js.map
