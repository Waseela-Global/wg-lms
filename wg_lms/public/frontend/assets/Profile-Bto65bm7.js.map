{"version":3,"file":"Profile-Bto65bm7.js","sources":["../../../../frontend/src/components/NoPermission.vue","../../../../frontend/src/components/Modals/EditProfile.vue","../../../../frontend/src/components/Modals/EditCoverImage.vue","../../../../frontend/src/pages/Profile.vue"],"sourcesContent":["<template>\n\t<div class=\"border rounded-md w-1/3 mx-auto my-32\">\n\t\t<div class=\"border-b px-5 py-3 font-medium\">\n\t\t\t<span\n\t\t\t\tclass=\"inline-flex items-center before:bg-surface-red-5 before:w-2 before:h-2 before:rounded-md before:mr-2\"\n\t\t\t></span>\n\t\t\t{{ __('Not Permitted') }}\n\t\t</div>\n\t\t<div v-if=\"user.data\" class=\"px-5 py-3\">\n\t\t\t<div>\n\t\t\t\t{{ __('You do not have permission to access this page.') }}\n\t\t\t</div>\n\t\t\t<router-link\n\t\t\t\t:to=\"{\n\t\t\t\t\tname: 'Courses',\n\t\t\t\t}\"\n\t\t\t>\n\t\t\t\t<Button variant=\"solid\" class=\"mt-2\">\n\t\t\t\t\t{{ __('Checkout Courses') }}\n\t\t\t\t</Button>\n\t\t\t</router-link>\n\t\t</div>\n\t\t<div class=\"px-5 py-3\">\n\t\t\t<div>\n\t\t\t\t{{ __('Please login to access this page.') }}\n\t\t\t</div>\n\t\t\t<Button @click=\"redirectToLogin()\" class=\"mt-4\">\n\t\t\t\t{{ __('Login') }}\n\t\t\t</Button>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { inject } from 'vue'\nimport { Button } from 'frappe-ui'\n\nconst user = inject('$user')\n\nconst redirectToLogin = () => {\n\twindow.location.href = '/login'\n}\n</script>\n","<template>\n\t<Dialog\n\t\t:options=\"{\n\t\t\ttitle: 'Edit your profile',\n\t\t\tsize: '3xl',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Save',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tonClick: (close) => saveProfile(close),\n\t\t\t\t},\n\t\t\t],\n\t\t}\"\n\t>\n\t\t<template #body-content>\n\t\t\t<div class=\"grid grid-cols-2 gap-5\">\n\t\t\t\t<div class=\"space-y-4\">\n\t\t\t\t\t<!-- <Uploader\n\t\t\t\t\t\tv-model=\"profile.image.file_url\"\n\t\t\t\t\t\tlabel=\"Profile Image\"\n\t\t\t\t\t\tdescription=\"Your profile image to help others recognize you.\"\n\t\t\t\t\t/> -->\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"text-xs text-ink-gray-5 mb-1\">\n\t\t\t\t\t\t\t{{ __('Profile Image') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<FileUploader\n\t\t\t\t\t\t\tv-if=\"!profile.image\"\n\t\t\t\t\t\t\t:fileTypes=\"['image/*']\"\n\t\t\t\t\t\t\t:validateFile=\"validateFile\"\n\t\t\t\t\t\t\t@success=\"(file) => saveImage(file)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\tv-slot=\"{ file, progress, uploading, openFileSelector }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t\t\t<Button @click=\"openFileSelector\" :loading=\"uploading\">\n\t\t\t\t\t\t\t\t\t\t{{\n\t\t\t\t\t\t\t\t\t\t\tuploading\n\t\t\t\t\t\t\t\t\t\t\t\t? `Uploading ${progress}%`\n\t\t\t\t\t\t\t\t\t\t\t\t: 'Upload a profile image'\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</FileUploader>\n\t\t\t\t\t\t<div v-else class=\"mb-4\">\n\t\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t:src=\"profile.image.file_url\"\n\t\t\t\t\t\t\t\t\tclass=\"object-cover h-[50px] w-[50px] rounded-full border-4 border-white object-cover\"\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<div class=\"text-base flex flex-col ml-2\">\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{{ profile.image.file_name }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class=\"text-sm text-ink-gray-4 mt-1\">\n\t\t\t\t\t\t\t\t\t\t{{ getFileSize(profile.image.file_size) }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<X\n\t\t\t\t\t\t\t\t\t@click=\"removeImage()\"\n\t\t\t\t\t\t\t\t\tclass=\"bg-surface-gray-3 rounded-md cursor-pointer stroke-1.5 w-5 h-5 p-1 ml-4\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<FormControl v-model=\"profile.first_name\" :label=\"__('First Name')\" />\n\t\t\t\t\t<FormControl v-model=\"profile.last_name\" :label=\"__('Last Name')\" />\n\t\t\t\t\t<FormControl v-model=\"profile.headline\" :label=\"__('Headline')\" />\n\t\t\t\t\t<Link\n\t\t\t\t\t\t:label=\"__('Language')\"\n\t\t\t\t\t\tv-model=\"profile.language\"\n\t\t\t\t\t\tdoctype=\"Language\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t<div class=\"mb-1.5 text-sm text-ink-gray-5\">\n\t\t\t\t\t\t\t{{ __('Bio') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t\t:fixedMenu=\"true\"\n\t\t\t\t\t\t\t@change=\"(val) => (profile.bio = val)\"\n\t\t\t\t\t\t\t:content=\"profile.bio\"\n\t\t\t\t\t\t\teditorClass=\"prose-sm py-2 px-2 min-h-[200px] border-outline-gray-2 hover:border-outline-gray-3 rounded-b-md bg-surface-gray-3\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup>\nimport {\n\tDialog,\n\tFormControl,\n\tFileUploader,\n\tButton,\n\tcreateResource,\n\tTextEditor,\n\ttoast,\n} from 'frappe-ui'\nimport { ref, reactive, watch } from 'vue'\nimport { X } from 'lucide-vue-next'\nimport { getFileSize, decodeEntities } from '@/utils'\nimport Link from '@/components/Controls/Link.vue'\nimport DOMPurify from 'dompurify'\n\nconst reloadProfile = defineModel('reloadProfile')\nconst hasLanguageChanged = ref(false)\n\nconst props = defineProps({\n\tprofile: {\n\t\ttype: Object,\n\t\trequired: true,\n\t},\n})\n\nconst profile = reactive({\n\tfirst_name: '',\n\tlast_name: '',\n\theadline: '',\n\tbio: '',\n\timage: '',\n})\n\nconst imageResource = createResource({\n\turl: 'lms.lms.api.get_file_info',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tfile_url: values.image,\n\t\t}\n\t},\n\tauto: false,\n\tonSuccess(data) {\n\t\tprofile.image = data\n\t},\n})\n\nconst updateProfile = createResource({\n\turl: 'frappe.client.set_value',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'User',\n\t\t\tname: props.profile.data.name,\n\t\t\tfieldname: {\n\t\t\t\tuser_image: profile.image.file_url,\n\t\t\t\t...profile,\n\t\t\t},\n\t\t}\n\t},\n\tonSuccess(data) {\n\t\tprops.profile.data = data\n\t},\n})\n\nconst saveProfile = (close) => {\n\tprofile.bio = DOMPurify.sanitize(decodeEntities(profile.bio), {\n\t\tALLOWED_TAGS: [\n\t\t\t'b',\n\t\t\t'i',\n\t\t\t'em',\n\t\t\t'strong',\n\t\t\t'a',\n\t\t\t'p',\n\t\t\t'br',\n\t\t\t'ul',\n\t\t\t'ol',\n\t\t\t'li',\n\t\t\t'img',\n\t\t],\n\t\tALLOWED_ATTR: ['href', 'target', 'src'],\n\t})\n\tupdateProfile.submit(\n\t\t{},\n\t\t{\n\t\t\tonSuccess() {\n\t\t\t\tclose()\n\t\t\t\treloadProfile.value.reload()\n\t\t\t\tif (hasLanguageChanged.value) {\n\t\t\t\t\thasLanguageChanged.value = false\n\t\t\t\t\twindow.location.reload()\n\t\t\t\t}\n\t\t\t},\n\t\t\tonError(err) {\n\t\t\t\ttoast.error(err.messages?.[0] || err)\n\t\t\t},\n\t\t}\n\t)\n}\n\nconst validateFile = (file) => {\n\tlet extension = file.name.split('.').pop().toLowerCase()\n\tif (!['jpg', 'jpeg', 'png'].includes(extension)) {\n\t\treturn 'Only image file is allowed.'\n\t}\n}\n\nconst saveImage = (file) => {\n\tprofile.image = file\n}\n\nconst removeImage = () => {\n\tprofile.image = null\n}\n\nwatch(\n\t() => props.profile.data,\n\t(newVal) => {\n\t\tif (newVal) {\n\t\t\tprofile.first_name = newVal.first_name\n\t\t\tprofile.last_name = newVal.last_name\n\t\t\tprofile.headline = newVal.headline\n\t\t\tprofile.language = newVal.language\n\t\t\tprofile.bio = newVal.bio\n\t\t\tif (newVal.user_image) imageResource.submit({ image: newVal.user_image })\n\t\t}\n\t}\n)\n\nwatch(\n\t() => profile.language,\n\t(newVal, oldVal) => {\n\t\tif (newVal !== oldVal) {\n\t\t\thasLanguageChanged.value = true\n\t\t}\n\t}\n)\n</script>\n","<template>\n\t<Popover transition=\"default\">\n\t\t<template #target=\"{ isOpen, togglePopover }\" class=\"flex w-full\">\n\t\t\t<slot v-bind=\"{ isOpen, togglePopover }\"></slot>\n\t\t</template>\n\t\t<template #body>\n\t\t\t<div\n\t\t\t\tclass=\"absolute left-1/2 mt-3 w-96 max-w-lg -translate-x-1/2 transform rounded-lg bg-surface-white px-4 sm:px-0 lg:max-w-3xl\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"overflow-hidden rounded-lg p-3 shadow-2xl ring-1 ring-black ring-opacity-5\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"flex items-center justify-center space-x-2\">\n\t\t\t\t\t\t<TextInput\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tplaceholder=\"search by keyword\"\n\t\t\t\t\t\t\tv-model=\"search\"\n\t\t\t\t\t\t\t:debounce=\"300\"\n\t\t\t\t\t\t\tclass=\"flex-1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FileUploader\n\t\t\t\t\t\t\t:fileTypes=\"['image/*']\"\n\t\t\t\t\t\t\t:validateFile=\"validateFile\"\n\t\t\t\t\t\t\t@success=\"(file) => saveImage(file)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template\n\t\t\t\t\t\t\t\tv-slot=\"{ file, progress, uploading, openFileSelector }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div class=\"\">\n\t\t\t\t\t\t\t\t\t<Button @click=\"openFileSelector\" :loading=\"uploading\">\n\t\t\t\t\t\t\t\t\t\t{{ uploading ? `Uploading ${progress}%` : 'Upload Image' }}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</FileUploader>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclass=\"relative mt-2 grid w-[25.5rem] gap-2 bg-surface-white lg:grid-cols-2\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tv-for=\"image in images.data\"\n\t\t\t\t\t\t\t:key=\"image.id\"\n\t\t\t\t\t\t\tclass=\"h-[50px] w-[200px] overflow-hidden rounded hover:opacity-80\"\n\t\t\t\t\t\t\t@click=\"$emit('select', image.urls.raw)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t:src=\"\n\t\t\t\t\t\t\t\t\timage.urls.raw +\n\t\t\t\t\t\t\t\t\t'&w=200&h=50&fit=crop&crop=entropy,faces,focalpoint'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"images.data\"\n\t\t\t\t\t\tclass=\"mt-2 text-center text-sm text-ink-gray-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ __('Image search powered by') }}\n\t\t\t\t\t\t<a class=\"underline\" target=\"_blank\" href=\"https://unsplash.com\">\n\t\t\t\t\t\t\t{{ __('Unsplash') }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Popover>\n</template>\n<script setup>\nimport {\n\tPopover,\n\tTextInput,\n\tFileUploader,\n\tButton,\n\tcreateResource,\n} from 'frappe-ui'\nimport { ref, watch } from 'vue'\n\nconst search = ref(null)\nconst emit = defineEmits(['select'])\n\nconst images = createResource({\n\turl: 'lms.lms.api.get_unsplash_photos',\n\tmakeParams: () => {\n\t\treturn {\n\t\t\tkeyword: search.value,\n\t\t}\n\t},\n\tauto: true,\n\tdebounce: 500,\n})\n\nwatch(\n\t() => search.value,\n\t() => {\n\t\timages.reload()\n\t}\n)\n\nconst saveImage = (file) => {\n\temit('select', file.file_url)\n}\n\nconst validateFile = (file) => {\n\tlet extension = file.name.split('.').pop().toLowerCase()\n\tif (!['jpg', 'jpeg', 'png'].includes(extension)) {\n\t\treturn 'Only image file is allowed.'\n\t}\n}\n</script>\n","<template>\n\t<NoPermission v-if=\"!$user.data\" />\n\t<div v-else-if=\"profile.data\">\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex flex-col md:flex-row md:items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5\"\n\t\t>\n\t\t\t<Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n\t\t</header>\n\t\t<div class=\"group relative h-[130px] w-full\">\n\t\t\t<img\n\t\t\t\tv-if=\"profile.data.cover_image\"\n\t\t\t\t:src=\"profile.data.cover_image\"\n\t\t\t\tclass=\"h-[130px] w-full object-cover object-center\"\n\t\t\t/>\n\t\t\t<div\n\t\t\t\tv-else\n\t\t\t\t:class=\"{ 'bg-surface-gray-2': !profile.data.cover_image }\"\n\t\t\t\tclass=\"h-[130px] w-full\"\n\t\t\t></div>\n\t\t\t<div\n\t\t\t\tclass=\"absolute bottom-[30%] md:bottom-0 left-[50%] mb-4 flex -translate-x-1/2 space-x-2 opacity-0 transition-opacity focus-within:opacity-100 group-hover:opacity-100\"\n\t\t\t\tv-if=\"isSessionUser()\"\n\t\t\t>\n\t\t\t\t<EditCoverImage\n\t\t\t\t\t@select=\"(imageUrl) => coverImage.submit({ url: imageUrl })\"\n\t\t\t\t>\n\t\t\t\t\t<template v-slot=\"{ togglePopover }\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tv-if=\"!readOnlyMode\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t@click=\"togglePopover()\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t<Edit class=\"w-4 h-4 stroke-1.5 text-ink-gray-7\" />\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t{{ __('Edit') }}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</template>\n\t\t\t\t</EditCoverImage>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"mx-auto -mt-10 md:-mt-4 max-w-4xl translate-x-0 px-5\">\n\t\t\t<div class=\"flex flex-col md:flex-row items-center\">\n\t\t\t\t<div>\n\t\t\t\t\t<img\n\t\t\t\t\t\tv-if=\"profile.data.user_image\"\n\t\t\t\t\t\t:src=\"profile.data.user_image\"\n\t\t\t\t\t\tclass=\"object-cover h-[100px] w-[100px] rounded-full border-4 border-white object-cover\"\n\t\t\t\t\t/>\n\t\t\t\t\t<UserAvatar\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\t:user=\"profile.data\"\n\t\t\t\t\t\tclass=\"object-cover h-[100px] w-[100px] rounded-full border-4 border-white object-cover\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"ml-6\">\n\t\t\t\t\t<h2 class=\"mt-2 text-3xl font-semibold text-ink-gray-9\">\n\t\t\t\t\t\t{{ profile.data.full_name }}\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div class=\"mt-2 text-base text-ink-gray-7\">\n\t\t\t\t\t\t{{ profile.data.headline }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tv-if=\"isSessionUser() && !readOnlyMode\"\n\t\t\t\t\tclass=\"mt-3 sm:mt-0 md:ml-auto\"\n\t\t\t\t\t@click=\"editProfile()\"\n\t\t\t\t>\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<Edit class=\"w-4 h-4 stroke-1.5 text-ink-gray-7\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ __('Edit Profile') }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\n\t\t\t<div class=\"mb-4 mt-6\">\n\t\t\t\t<TabButtons\n\t\t\t\t\tclass=\"inline-block\"\n\t\t\t\t\t:buttons=\"getTabButtons()\"\n\t\t\t\t\tv-model=\"activeTab\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<router-view :profile=\"profile\" :key=\"profile.data?.name\" />\n\t\t</div>\n\t</div>\n\t<EditProfile\n\t\tv-model=\"showProfileModal\"\n\t\tv-model:reloadProfile=\"profile\"\n\t\t:profile=\"profile\"\n\t/>\n</template>\n<script setup>\nimport {\n\tBreadcrumbs,\n\tcreateResource,\n\tButton,\n\tTabButtons,\n\tusePageMeta,\n} from 'frappe-ui'\nimport { computed, inject, watch, ref, onMounted, watchEffect } from 'vue'\nimport { sessionStore } from '@/stores/session'\nimport { Edit } from 'lucide-vue-next'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport NoPermission from '@/components/NoPermission.vue'\nimport { convertToTitleCase } from '@/utils'\nimport EditProfile from '@/components/Modals/EditProfile.vue'\nimport EditCoverImage from '@/components/Modals/EditCoverImage.vue'\n\nconst { user, brand } = sessionStore()\nconst $user = inject('$user')\nconst route = useRoute()\nconst router = useRouter()\nconst activeTab = ref('')\nconst showProfileModal = ref(false)\nconst readOnlyMode = window.read_only_mode\n\nconst props = defineProps({\n\tusername: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nonMounted(() => {\n\tif ($user.data) profile.reload()\n\n\tsetActiveTab()\n})\n\nconst profile = createResource({\n\turl: 'frappe.client.get',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'User',\n\t\t\tfilters: {\n\t\t\t\tusername: props.username,\n\t\t\t},\n\t\t}\n\t},\n})\n\nconst coverImage = createResource({\n\turl: 'frappe.client.set_value',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'User',\n\t\t\tname: profile.data?.name,\n\t\t\tfieldname: 'cover_image',\n\t\t\tvalue: values.url,\n\t\t}\n\t},\n\tonSuccess() {\n\t\tprofile.reload()\n\t},\n})\n\nconst setActiveTab = () => {\n\tlet fragments = route.path.split('/')\n\tlet sections = ['certificates', 'roles', 'slots', 'schedule']\n\tsections.forEach((section) => {\n\t\tif (fragments.includes(section)) {\n\t\t\tactiveTab.value = convertToTitleCase(section)\n\t\t}\n\t})\n\tif (!activeTab.value) activeTab.value = 'About'\n}\n\nwatchEffect(() => {\n\tif (activeTab.value) {\n\t\tlet route = {\n\t\t\tAbout: { name: 'ProfileAbout' },\n\t\t\tCertificates: { name: 'ProfileCertificates' },\n\t\t\tRoles: { name: 'ProfileRoles' },\n\t\t\tSlots: { name: 'ProfileEvaluator' },\n\t\t\tSchedule: { name: 'ProfileEvaluationSchedule' },\n\t\t}[activeTab.value]\n\t\trouter.push(route)\n\t}\n})\n\nwatch(\n\t() => props.username,\n\t() => {\n\t\tprofile.reload()\n\t}\n)\n\nconst editProfile = () => {\n\tshowProfileModal.value = true\n}\n\nconst isSessionUser = () => {\n\treturn $user.data?.email === profile.data?.email\n}\n\nconst getTabButtons = () => {\n\tlet buttons = [{ label: 'About' }, { label: 'Certificates' }]\n\tif ($user.data?.is_moderator) buttons.push({ label: 'Roles' })\n\tif (\n\t\tisSessionUser() &&\n\t\t($user.data?.is_evaluator || $user.data?.is_moderator)\n\t) {\n\t\tbuttons.push({ label: 'Slots' })\n\t\tbuttons.push({ label: 'Schedule' })\n\t}\n\n\treturn buttons\n}\n\nconst breadcrumbs = computed(() => {\n\tlet crumbs = [\n\t\t{\n\t\t\tlabel: 'People',\n\t\t},\n\t\t{\n\t\t\tlabel: profile.data?.full_name,\n\t\t\troute: {\n\t\t\t\tname: 'Profile',\n\t\t\t\tparams: {\n\t\t\t\t\tusername: user.doc?.username,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t]\n\treturn crumbs\n})\n\nusePageMeta(() => {\n\treturn {\n\t\ttitle: profile.data?.full_name,\n\t\ticon: brand.favicon,\n\t}\n})\n</script>\n"],"names":["user","inject","redirectToLogin","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createTextVNode","__","_unref","_hoisted_3","_createVNode","_component_router_link","Button","_hoisted_4","reloadProfile","_useModel","__props","hasLanguageChanged","ref","props","profile","reactive","imageResource","createResource","values","data","updateProfile","saveProfile","close","DOMPurify","decodeEntities","err","toast","_a","validateFile","file","extension","saveImage","removeImage","watch","newVal","oldVal","_createBlock","Dialog","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_8","_hoisted_9","getFileSize","X","FileUploader","_cache","_withCtx","progress","uploading","openFileSelector","FormControl","$event","Link","_hoisted_10","_hoisted_11","TextEditor","val","search","emit","__emit","images","Popover","isOpen","togglePopover","_renderSlot","_ctx","_normalizeProps","_guardReactiveProps","TextInput","_Fragment","_renderList","image","$emit","brand","sessionStore","$user","route","useRoute","router","useRouter","activeTab","showProfileModal","readOnlyMode","onMounted","setActiveTab","coverImage","fragments","section","convertToTitleCase","watchEffect","editProfile","isSessionUser","_b","getTabButtons","buttons","_c","breadcrumbs","computed","usePageMeta","Breadcrumbs","EditCoverImage","imageUrl","Edit","_hoisted_7","UserAvatar","_hoisted_12","TabButtons","_component_router_view","NoPermission","EditProfile"],"mappings":"uvBAoCA,MAAMA,EAAOC,EAAO,OAAO,EAErBC,EAAkB,IAAM,CAC7B,OAAO,SAAS,KAAO,QACxB,yCAvCC,OAAAC,EAAA,EAAAC,EA6BM,MA7BNC,GA6BM,CA5BLC,EAKM,MALNC,GAKM,aAJLD,EAEQ,OAAA,CADP,MAAM,sGAAsG,EAAA,KAAA,EAAA,GACrGE,EAAA,MACLC,EAAAA,GAAE,eAAA,CAAA,EAAA,CAAA,IAEKC,EAAAV,CAAA,EAAK,MAAhBG,IAAAC,EAaM,MAbNO,GAaM,CAZLL,EAEM,aADFG,EAAAA,GAAE,iDAAA,CAAA,EAAA,CAAA,EAENG,EAQcC,EAAA,CAPZ,GAAI,eAEJ,GAAA,WAED,IAES,CAFTD,EAESF,EAAAI,CAAA,EAAA,CAFD,QAAQ,QAAQ,MAAM,mBAC7B,IAA4B,KAAzBL,EAAAA,GAAE,kBAAA,CAAA,EAAA,CAAA,8BAIRH,EAOM,MAPNS,GAOM,CANLT,EAEM,aADFG,EAAAA,GAAE,mCAAA,CAAA,EAAA,CAAA,EAENG,EAESF,EAAAI,CAAA,EAAA,CAFA,uBAAOZ,EAAe,GAAI,MAAM,mBACxC,IAAiB,KAAdO,EAAAA,GAAE,OAAA,CAAA,EAAA,CAAA,ufCmFT,MAAMO,EAAgBC,EAAWC,EAAC,eAAe,EAC3CC,EAAqBC,EAAI,EAAK,EAE9BC,EAAQH,EAORI,EAAUC,EAAS,CACxB,WAAY,GACZ,UAAW,GACX,SAAU,GACV,IAAK,GACL,MAAO,EACR,CAAC,EAEKC,EAAgBC,EAAe,CACpC,IAAK,4BACL,WAAWC,EAAQ,CAClB,MAAO,CACN,SAAUA,EAAO,KACpB,CACC,EACA,KAAM,GACN,UAAUC,EAAM,CACfL,EAAQ,MAAQK,CACjB,CACD,CAAC,EAEKC,EAAgBH,EAAe,CACpC,IAAK,0BACL,WAAWC,EAAQ,CAClB,MAAO,CACN,QAAS,OACT,KAAML,EAAM,QAAQ,KAAK,KACzB,UAAW,CACV,WAAYC,EAAQ,MAAM,SAC1B,GAAGA,CACP,CACA,CACC,EACA,UAAUK,EAAM,CACfN,EAAM,QAAQ,KAAOM,CACtB,CACD,CAAC,EAEKE,EAAeC,GAAU,CAC9BR,EAAQ,IAAMS,EAAU,SAASC,EAAeV,EAAQ,GAAG,EAAG,CAC7D,aAAc,CACb,IACA,IACA,KACA,SACA,IACA,IACA,KACA,KACA,KACA,KACA,KACH,EACE,aAAc,CAAC,OAAQ,SAAU,KAAK,CACxC,CAAE,EACDM,EAAc,OACb,CAAA,EACA,CACC,WAAY,CACXE,EAAK,EACLd,EAAc,MAAM,OAAM,EACtBG,EAAmB,QACtBA,EAAmB,MAAQ,GAC3B,OAAO,SAAS,OAAM,EAExB,EACA,QAAQc,EAAK,OACZC,EAAM,QAAMC,EAAAF,EAAI,WAAJ,YAAAE,EAAe,KAAMF,CAAG,CACrC,CACH,CACA,CACA,EAEMG,EAAgBC,GAAS,CAC9B,IAAIC,EAAYD,EAAK,KAAK,MAAM,GAAG,EAAE,IAAG,EAAG,YAAW,EACtD,GAAI,CAAC,CAAC,MAAO,OAAQ,KAAK,EAAE,SAASC,CAAS,EAC7C,MAAO,6BAET,EAEMC,EAAaF,GAAS,CAC3Bf,EAAQ,MAAQe,CACjB,EAEMG,EAAc,IAAM,CACzBlB,EAAQ,MAAQ,IACjB,EAEA,OAAAmB,EACC,IAAMpB,EAAM,QAAQ,KACnBqB,GAAW,CACPA,IACHpB,EAAQ,WAAaoB,EAAO,WAC5BpB,EAAQ,UAAYoB,EAAO,UAC3BpB,EAAQ,SAAWoB,EAAO,SAC1BpB,EAAQ,SAAWoB,EAAO,SAC1BpB,EAAQ,IAAMoB,EAAO,IACjBA,EAAO,YAAYlB,EAAc,OAAO,CAAE,MAAOkB,EAAO,UAAU,CAAE,EAE1E,CACD,EAEAD,EACC,IAAMnB,EAAQ,SACd,CAACoB,EAAQC,IAAW,CACfD,IAAWC,IACdxB,EAAmB,MAAQ,GAE7B,CACD,cApOCyB,EA2FSlC,EAAAmC,CAAA,EAAA,CA1FP,QAAO,qFAAiIf,GAAUD,EAAYC,CAAK,OAYzJ,iBACV,IA2EM,CA3ENxB,EA2EM,MA3END,GA2EM,CA1ELC,EA4DM,MA5DNC,GA4DM,CAtDLD,EA6CM,MAAA,KAAA,CA5CLA,EAEM,MAFNK,GAEMmC,EADFrC,EAAAA,GAAE,eAAA,CAAA,EAAA,CAAA,EAGEa,EAAQ,OAmBhBnB,IAAAC,EAoBM,MApBN2C,GAoBM,CAnBLzC,EAkBM,MAlBN0C,GAkBM,CAjBL1C,EAGE,MAAA,CAFA,IAAKgB,EAAQ,MAAM,SACpB,MAAM,6FAGPhB,EAOM,MAPN2C,GAOM,CANL3C,EAEO,OAAA,KAAAwC,EADHxB,EAAQ,MAAM,SAAS,EAAA,CAAA,EAE3BhB,EAEO,OAFP4C,GAEOJ,EADHpC,EAAAyC,CAAA,EAAY7B,EAAQ,MAAM,SAAS,CAAA,EAAA,CAAA,IAGxCV,EAGEF,EAAA0C,CAAA,EAAA,CAFA,uBAAOZ,EAAW,GACnB,MAAM,sFArCTI,EAmBelC,EAAA2C,CAAA,EAAA,OAjBb,UAAW,CAAA,SAAA,EACX,aAAcjB,EACd,UAAOkB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAGjB,GAASE,EAAUF,CAAI,KAKjC,QAAAkB,EAAA,CAQM,CAVI,KAAAlB,EAAM,SAAAmB,EAAU,UAAAC,EAAW,iBAAAC,KAAgB,CAErDpD,EAQM,MARNS,GAQM,CAPLH,EAMSF,EAAAI,CAAA,EAAA,CANA,QAAO4C,EAAmB,QAASD,cAC3C,IAIE,KAHDA,eAAqCD,CAAQ,iFA8BnD5C,EAAsEF,EAAAiD,CAAA,EAAA,CAAhD,WAAArC,EAAQ,WAAR,sBAAAgC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAAtC,EAAQ,WAAUsC,GAAG,MAAOnD,EAAAA,GAAE,YAAA,kCACpDG,EAAoEF,EAAAiD,CAAA,EAAA,CAA9C,WAAArC,EAAQ,UAAR,sBAAAgC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAAtC,EAAQ,UAASsC,GAAG,MAAOnD,EAAAA,GAAE,WAAA,kCACnDG,EAAkEF,EAAAiD,CAAA,EAAA,CAA5C,WAAArC,EAAQ,SAAR,sBAAAgC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAAtC,EAAQ,SAAQsC,GAAG,MAAOnD,EAAAA,GAAE,UAAA,kCAClDG,EAIEiD,EAAA,CAHA,MAAOpD,EAAAA,GAAE,UAAA,EACD,WAAAa,EAAQ,SAAR,sBAAAgC,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAM,GAAAtC,EAAQ,SAAQsC,GACzB,QAAQ,6CAGVtD,EAYM,MAAA,KAAA,CAXLA,EAUM,MAVNwD,GAUM,CATLxD,EAEM,MAFNyD,GAEMjB,EADFrC,EAAAA,GAAE,KAAA,CAAA,EAAA,CAAA,EAENG,EAKEF,EAAAsD,CAAA,EAAA,CAJA,UAAW,GACX,qBAASC,GAAS3C,EAAQ,IAAM2C,GAChC,QAAS3C,EAAQ,IAClB,YAAY,mvBCTnB,MAAM4C,EAAS9C,EAAI,IAAI,EACjB+C,EAAOC,EAEPC,EAAS5C,EAAe,CAC7B,IAAK,kCACL,WAAY,KACJ,CACN,QAASyC,EAAO,KACnB,GAEC,KAAM,GACN,SAAU,GACX,CAAC,EAEDzB,EACC,IAAMyB,EAAO,MACb,IAAM,CACLG,EAAO,OAAM,CACd,CACD,EAEA,MAAM9B,EAAaF,GAAS,CAC3B8B,EAAK,SAAU9B,EAAK,QAAQ,CAC7B,EAEMD,EAAgBC,GAAS,CAC9B,IAAIC,EAAYD,EAAK,KAAK,MAAM,GAAG,EAAE,IAAG,EAAG,YAAW,EACtD,GAAI,CAAC,CAAC,MAAO,OAAQ,KAAK,EAAE,SAASC,CAAS,EAC7C,MAAO,6BAET,oBA1GCM,EAgEUlC,EAAA4D,EAAA,EAAA,CAhED,WAAW,WAAS,CACjB,OAAMf,EAChB,CAAgD,CAD5B,OAAAgB,EAAQ,cAAAC,CAAa,IAAA,CACzCC,GAAgDC,EAAA,OAAA,UAAAC,GAAAC,GAAA,CAAhC,OAAAL,EAAQ,cAAAC,CAAa,CAAA,CAAA,CAAA,IAE3B,OACV,IAyDM,CAzDNlE,EAyDM,MAzDND,GAyDM,CAtDLC,EAqDM,MArDNC,GAqDM,CAlDLD,EAuBM,MAvBNK,GAuBM,CAtBLC,EAMEF,EAAAmE,CAAA,EAAA,CALD,KAAK,OACL,YAAY,+BACHX,EAAA,2CAAAA,EAAM,MAAAN,GACd,SAAU,IACX,MAAM,iCAEPhD,EAceF,EAAA2C,CAAA,EAAA,CAbb,UAAW,CAAA,SAAA,EACX,aAAcjB,EACd,UAAOkB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAGjB,GAASE,EAAUF,CAAI,KAKjC,QAAAkB,EAAA,CAIM,CANI,KAAAlB,EAAM,SAAAmB,EAAU,UAAAC,EAAW,iBAAAC,KAAgB,CAErDpD,EAIM,MAJNS,GAIM,CAHLH,EAESF,EAAAI,CAAA,EAAA,CAFA,QAAO4C,EAAmB,QAASD,cAC3C,IAA2D,CAAxDjD,EAAAsC,EAAAW,eAAyBD,CAAQ,IAAA,cAAA,EAAA,CAAA,iDAMzClD,EAgBM,MAhBNyC,GAgBM,EAbL5C,EAAA,EAAA,EAAAC,EAYS0E,EAAA,KAAAC,GAXQrE,EAAA2D,CAAA,EAAO,KAAhBW,QADR5E,EAYS,SAAA,CAVP,IAAK4E,EAAM,GACZ,MAAM,8DACL,WAAOC,EAAAA,MAAK,SAAWD,EAAM,KAAK,GAAG,IAEtC1E,EAKE,MAAA,CAJA,IAAe0E,EAAM,KAAK,sFAQvBtE,EAAA2D,CAAA,EAAO,MADdlE,IAAAC,EAQM,MARN6C,GAQM,CAJFxC,EAAAA,EAAAA,EAAAA,+BAAgC,IACnC,CAAA,EAAAH,EAEI,IAFJ4C,GAEIJ,EADArC,EAAAA,GAAE,UAAA,CAAA,EAAA,CAAA,kvBCkDZ,KAAM,CAAE,KAAAT,EAAM,MAAAkF,CAAK,EAAKC,GAAY,EAC9BC,EAAQnF,EAAO,OAAO,EACtBoF,EAAQC,GAAQ,EAChBC,EAASC,GAAS,EAClBC,EAAYrE,EAAI,EAAE,EAClBsE,EAAmBtE,EAAI,EAAK,EAC5BuE,EAAe,OAAO,eAEtBtE,EAAQH,EAOd0E,GAAU,IAAM,CACXR,EAAM,MAAM9D,EAAQ,OAAM,EAE9BuE,EAAY,CACb,CAAC,EAED,MAAMvE,EAAUG,EAAe,CAC9B,IAAK,oBACL,WAAWC,EAAQ,CAClB,MAAO,CACN,QAAS,OACT,QAAS,CACR,SAAUL,EAAM,QACpB,CACA,CACC,CACD,CAAC,EAEKyE,EAAarE,EAAe,CACjC,IAAK,0BACL,WAAWC,EAAQ,OAClB,MAAO,CACN,QAAS,OACT,MAAMS,EAAAb,EAAQ,OAAR,YAAAa,EAAc,KACpB,UAAW,cACX,MAAOT,EAAO,GACjB,CACC,EACA,WAAY,CACXJ,EAAQ,OAAM,CACf,CACD,CAAC,EAEKuE,EAAe,IAAM,CAC1B,IAAIE,EAAYV,EAAM,KAAK,MAAM,GAAG,EACrB,CAAC,eAAgB,QAAS,QAAS,UAAU,EACnD,QAASW,GAAY,CACzBD,EAAU,SAASC,CAAO,IAC7BP,EAAU,MAAQQ,GAAmBD,CAAO,EAE9C,CAAC,EACIP,EAAU,QAAOA,EAAU,MAAQ,QACzC,EAEAS,GAAY,IAAM,CACjB,GAAIT,EAAU,MAAO,CACpB,IAAIJ,EAAQ,CACX,MAAO,CAAE,KAAM,cAAc,EAC7B,aAAc,CAAE,KAAM,qBAAqB,EAC3C,MAAO,CAAE,KAAM,cAAc,EAC7B,MAAO,CAAE,KAAM,kBAAkB,EACjC,SAAU,CAAE,KAAM,2BAA2B,CAChD,EAAII,EAAU,KAAK,EACjBF,EAAO,KAAKF,CAAK,CAClB,CACD,CAAC,EAED5C,EACC,IAAMpB,EAAM,SACZ,IAAM,CACLC,EAAQ,OAAM,CACf,CACD,EAEA,MAAM6E,EAAc,IAAM,CACzBT,EAAiB,MAAQ,EAC1B,EAEMU,EAAgB,IAAM,SAC3B,QAAOjE,EAAAiD,EAAM,OAAN,YAAAjD,EAAY,WAAUkE,EAAA/E,EAAQ,OAAR,YAAA+E,EAAc,MAC5C,EAEMC,EAAgB,IAAM,WAC3B,IAAIC,EAAU,CAAC,CAAE,MAAO,OAAO,EAAI,CAAE,MAAO,cAAc,CAAE,EAC5D,OAAIpE,EAAAiD,EAAM,OAAN,MAAAjD,EAAY,cAAcoE,EAAQ,KAAK,CAAE,MAAO,OAAO,CAAE,EAE5DH,EAAa,KACZC,EAAAjB,EAAM,OAAN,MAAAiB,EAAY,eAAgBG,EAAApB,EAAM,OAAN,MAAAoB,EAAY,gBAEzCD,EAAQ,KAAK,CAAE,MAAO,OAAO,CAAE,EAC/BA,EAAQ,KAAK,CAAE,MAAO,UAAU,CAAE,GAG5BA,CACR,EAEME,EAAcC,GAAS,IAAM,SAelC,MAda,CACZ,CACC,MAAO,QACV,EACE,CACC,OAAOvE,EAAAb,EAAQ,OAAR,YAAAa,EAAc,UACrB,MAAO,CACN,KAAM,UACN,OAAQ,CACP,UAAUkE,EAAArG,EAAK,MAAL,YAAAqG,EAAU,QACzB,CACA,CACA,CACA,CAEA,CAAC,EAED,OAAAM,GAAY,IAAM,OACjB,MAAO,CACN,OAAOxE,EAAAb,EAAQ,OAAR,YAAAa,EAAc,UACrB,KAAM+C,EAAM,OACd,CACA,CAAC,8DAxOqBxE,EAAA0E,CAAA,EAAM,KACX1E,EAAAY,CAAA,EAAQ,UAAxBlB,EAkFM,MAAAC,GAAA,CAjFLC,EAIS,SAJTC,GAIS,CADRK,EAAgDF,EAAAkG,EAAA,EAAA,CAAnC,MAAM,MAAO,MAAOH,EAAA,2BAElCnG,EAgCM,MAhCNK,GAgCM,CA9BED,EAAAY,CAAA,EAAQ,KAAK,iBADpBlB,EAIE,MAAA,OAFA,IAAKM,EAAAY,CAAA,EAAQ,KAAK,YACnB,MAAM,gEAEPlB,EAIO,MAAA,OAFL,gCAA+BM,EAAAY,CAAA,EAAQ,KAAK,WAAW,EAClD,kBAAkB,CAAA,YAIlB8E,EAAa,GAFpBjG,IAAAC,EAoBM,MApBN2C,GAoBM,CAhBLnC,EAeiBiG,GAAA,CAdf,qBAASC,GAAapG,KAAW,YAAcoG,CAAQ,CAAA,KAGvD,QAAAvD,EAAA,CASS,CAVU,cAAAiB,KAAa,CAExB9D,EAAAiF,CAAA,gBADR/C,EASSlC,EAAAI,CAAA,EAAA,OAPR,QAAQ,UACP,YAAO0D,EAAa,IAEV,SACV,IAAmD,CAAnD5D,EAAmDF,EAAAqG,CAAA,EAAA,CAA7C,MAAM,oCAAoC,CAAA,cACtC,IACX,CADWvG,EAAA,MACRC,EAAAA,GAAE,MAAA,CAAA,EAAA,CAAA,+CAMVH,EA0CM,MA1CN0C,GA0CM,CAzCL1C,EA+BM,MA/BN0G,GA+BM,CA9BL1G,EAWM,MAAA,KAAA,CATEI,EAAAY,CAAA,EAAQ,KAAK,gBADpBlB,EAIE,MAAA,OAFA,IAAKM,EAAAY,CAAA,EAAQ,KAAK,WACnB,MAAM,qGAEPsB,EAIEqE,GAAA,OAFA,KAAMvG,EAAAY,CAAA,EAAQ,KACf,MAAM,wGAGRhB,EAOM,MAPN4C,GAOM,CANL5C,EAEK,KAFLwD,GAEKhB,EADDpC,KAAQ,KAAK,SAAS,EAAA,CAAA,EAE1BJ,EAEM,MAFNyD,GAEMjB,EADFpC,KAAQ,KAAK,QAAQ,EAAA,CAAA,IAInB0F,EAAa,IAAO1F,EAAAiF,CAAA,OAD3B/C,EASSlC,EAAAI,CAAA,EAAA,OAPR,MAAM,0BACL,uBAAOqF,OAEG,SACV,IAAmD,CAAnDvF,EAAmDF,EAAAqG,CAAA,EAAA,CAA7C,MAAM,oCAAoC,CAAA,cACtC,IACX,CADWvG,EAAA,MACRC,EAAAA,GAAE,cAAA,CAAA,EAAA,CAAA,sBAIPH,EAMM,MANN4G,GAMM,CALLtG,EAIEF,EAAAyG,EAAA,EAAA,CAHD,MAAM,eACL,QAASb,EAAa,aACdb,EAAA,2CAAAA,EAAS,MAAA7B,4CAGpBhB,EAA4DwE,EAAA,CAA9C,QAAS1G,EAAAY,CAAA,EAAU,KAAKZ,EAAAA,EAAAY,CAAA,EAAQ,OAARZ,YAAAA,EAAc,8CAjFtDkC,EAAmCyE,GAAA,CAAA,IAAA,CAAA,CAAA,GAoFnCzG,EAIE0G,GAAA,YAHQ5B,EAAA,2CAAAA,EAAgB,MAAA9B,GACjB,cAAelD,EAAAY,CAAA,gDAAAA,EAAO,MAAAsC,EAAA,MAC7B,QAASlD,EAAAY,CAAA"}