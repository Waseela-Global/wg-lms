import{y as f,x as P,i as S,z as Y,H as w,A as z,B as F,E as D,r as G,a as c,o,e as s,f as r,u as t,w as m,q as C,l as M,t as i,G as q,h as $,b as g,L as E,N as U,F as V,g as A,Y as H}from"./index-CZIp1LU6.js";import{_ as I}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-B2fdcvTt.js";import{_ as R}from"./EmptyState.vue_vue_type_script_setup_true_lang-Cua88j6p.js";const T={class:"sticky flex items-center justify-between top-0 z-10 border-b bg-surface-white px-3 py-2.5 sm:px-5"},J={class:"mx-auto w-full max-w-4xl pt-6 pb-10"},K={class:"flex flex-col md:flex-row justify-between mb-4 px-3"},O={class:"text-xl font-semibold text-ink-gray-7 mb-4 md:mb-0"},Q={class:"grid grid-cols-2 gap-2"},W={key:0,class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40"},X={key:0,class:"divide-y"},Z={class:"flex items-center w-full space-x-3"},ee={class:"flex flex-col md:flex-row w-full"},te={class:"flex-1"},se={class:"text-base font-medium text-ink-gray-8"},ae={key:0,class:"mt-1.5 text-base text-ink-gray-5"},le={class:"flex items-center space-x-3 md:space-x-24 text-sm md:text-base mt-1.5"},ie={class:"text-ink-gray-5"},oe={class:"text-ink-gray-5"},re={key:2,class:"flex justify-center mt-5"},ue={__name:"CertifiedParticipants",setup(ne){const u=f(""),d=f({}),_=f(""),{brand:j}=P(),v=f(0),L=S("$dayjs");Y(()=>{x(),p()});const n=w({doctype:"LMS Certificate",url:"wg_lms.lms.api.get_certified_participants",start:0,cache:["certified_participants"],pageLength:100}),x=()=>{z("wg_lms.lms.api.get_count_of_certified_members",{filters:d.value}).then(a=>{v.value=a})},b=w({doctype:"LMS Certificate",url:"wg_lms.lms.api.get_certification_categories",cache:["certification_categories"],auto:!0,transform(a){return a.unshift({label:__(""),value:""}),a}}),p=()=>{N(),x(),n.update({filters:d.value}),n.reload()},N=()=>{u.value?d.value.category=u.value:delete d.value.category,_.value?d.value.member_name=["like",`%${_.value}%`]:delete d.value.member_name},B=F(()=>[{label:__("Certified Members"),route:{name:"CertifiedParticipants"}}]);return D(()=>({title:__("Certified Members"),icon:j.favicon})),(a,l)=>{var h,k;const y=G("router-link");return o(),c(V,null,[s("header",T,[r(t(I),{items:B.value},null,8,["items"]),r(y,{to:{name:"Batches",query:{certification:!0}}},{default:m(()=>[r(t(C),null,{prefix:m(()=>[r(t(q),{class:"h-4 w-4 stroke-1.5"})]),default:m(()=>[M(" "+i(a.__("Get Certified")),1)]),_:1})]),_:1})]),s("div",J,[s("div",K,[s("div",O,i(v.value)+" "+i(a.__("certified members")),1),s("div",Q,[r(t(E),{modelValue:_.value,"onUpdate:modelValue":l[0]||(l[0]=e=>_.value=e),placeholder:a.__("Search by Name"),type:"text",class:"min-w-40 lg:min-w-0 lg:w-32 xl:w-40",onInput:l[1]||(l[1]=e=>p())},null,8,["modelValue","placeholder"]),(h=t(b).data)!=null&&h.length?(o(),c("div",W,[r(t(U),{modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=e=>u.value=e),options:t(b).data,placeholder:a.__("Category"),onChange:l[3]||(l[3]=e=>p())},null,8,["modelValue","options","placeholder"])])):g("",!0)])]),(k=t(n).data)!=null&&k.length?(o(),c("div",X,[(o(!0),c(V,null,A(t(n).data,e=>(o(),$(y,{to:{name:"ProfileCertificates",params:{username:e.username}},class:"flex sm:rounded px-3 py-2 sm:h-15 hover:bg-surface-gray-2"},{default:m(()=>[s("div",Z,[r(t(H),{image:e.user_image,class:"size-8 rounded-full object-contain",label:e.full_name,size:"2xl"},null,8,["image","label"]),s("div",ee,[s("div",te,[s("div",se,i(e.full_name),1),e.headline?(o(),c("div",ae,i(e.headline),1)):g("",!0)]),s("div",le,[s("div",ie,i(e.certificate_count)+" "+i(e.certificate_count>1?a.__("certificates"):a.__("certificate")),1),l[5]||(l[5]=s("span",{class:"text-ink-gray-4 md:hidden"},"Â·",-1)),s("div",oe,i(t(L)(e.issue_date).format("DD MMM YYYY")),1)])])])]),_:2},1032,["to"]))),256))])):(o(),$(R,{key:1,type:"Certified Members"})),!t(n).list.loading&&t(n).hasNextPage?(o(),c("div",re,[r(t(C),{onClick:l[4]||(l[4]=e=>t(n).next())},{default:m(()=>[M(i(a.__("Load More")),1)]),_:1})])):g("",!0)])],64)}}};export{ue as default};
//# sourceMappingURL=CertifiedParticipants-Bqjtedz_.js.map
