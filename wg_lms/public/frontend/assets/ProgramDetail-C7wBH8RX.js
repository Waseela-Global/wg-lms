import{d as v,x as y,p as N,i as C,z as P,A as $,c as w,B as z,E as B,a as n,o as s,e as i,b as m,f as c,u as e,h as M,t as l,w as p,l as D,a1 as L,I as S,_ as V,F as _,g as j,n as E,av as I}from"./index-CZIp1LU6.js";import{_ as F}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-B2fdcvTt.js";import{_ as R}from"./CourseCard-Dy3xQuBt.js";import"./CourseInstructors-Dfde5EU7.js";import"./UserAvatar-D_gN1iLa.js";const A={class:"sticky top-0 z-10 flex items-center justify-between border-b bg-surface-white px-3 py-2.5 sm:px-5"},K={key:0,class:"pt-5 px-5 pb-10 mx-auto"},T={class:"flex items-center space-x-2 mb-5"},Y={class:"text-lg font-semibold text-ink-gray-9"},q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 mb-5"},G={key:0,class:"absolute inset-0 flex flex-col items-center justify-center space-y-2 text-ink-white rounded-md invisible group-hover:visible",style:{background:"radial-gradient(circle, darkgray 0%, lightgray 100%)"}},H={class:"font-medium text-center leading-5 px-10"},Z=v({__name:"ProgramDetail",props:{programName:{}},setup(g){const{brand:f}=y(),d=N(),h=C("$user"),t=g;P(()=>{b()});const b=()=>{$("frappe.client.get_value",{doctype:"LMS Program Member",filters:{member:h.data.name,parent:t.programName},parent:"LMS Program",fieldname:"name"}).then(r=>{r.name?a.reload():d.push({name:"Programs"})})},a=w({url:"wg_lms.lms.utils.get_program_details",params:{program_name:t.programName}}),x=(r,u)=>{!r.eligible&&u||d.push({name:"CourseDetail",params:{courseName:r.name}})},k=z(()=>[{label:__("Programs"),route:{name:"Programs"}},{label:t.programName,route:{name:"ProgramDetail",params:{programName:t.programName}}}]);return B(()=>({title:t.programName,icon:f.favicon})),(r,u)=>(s(),n(_,null,[i("header",A,[c(e(F),{items:k.value},null,8,["items"])]),e(a).data?(s(),n("div",K,[i("div",T,[i("div",Y,l(e(a).data.name),1),c(e(L),{theme:e(a).data.progress<100?"orange":"green"},{default:p(()=>[D(l(e(a).data.progress)+"% "+l(r.__("completed")),1)]),_:1},8,["theme"]),e(a).data.enforce_course_order?(s(),M(e(V),{key:0,placement:"right",text:r.__("Courses must be completed in order. You can only start the next course after completing the previous one.")},{default:p(()=>[c(e(S),{class:"size-3 cursor-pointer"})]),_:1},8,["text"])):m("",!0)]),i("div",q,[(s(!0),n(_,null,j(e(a).data.courses,o=>(s(),n("div",{key:o.name,class:E(["relative group",o.eligible&&e(a).data.enforce_course_order||!e(a).data.enforce_course_order?"cursor-pointer":"cursor-default"])},[c(R,{course:o,onClick:J=>x(o,e(a).data.enforce_course_order)},null,8,["course","onClick"]),!o.eligible&&e(a).data.enforce_course_order?(s(),n("div",G,[c(e(I),{class:"size-5"}),i("span",H,l(r.__("Please complete the previous course to unlock this one.")),1)])):m("",!0)],2))),128))])])):m("",!0)],64))}});export{Z as default};
//# sourceMappingURL=ProgramDetail-C7wBH8RX.js.map
