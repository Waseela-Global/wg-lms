import{d as z,i as H,c as j,r as O,a as i,o as a,b as C,e,u as t,f as r,t as s,w as k,M as N,F as V,g as B,h as M,C as P,j as R,k as F,n as K,l as L,m as Q,V as W,_ as X,I as Z,p as se,G,q as ae,P as oe,s as ne,v as re,D as le,x as ie,y as A,z as de,A as ce,B as J,E as ue}from"./index-CZIp1LU6.js";import{T as _e}from"./TabButtons-B8hLfXVF.js";import{_ as ee}from"./CourseCard-Dy3xQuBt.js";import{_ as te}from"./BatchCard-C_-xkG8T.js";import{_ as me}from"./UpcomingEvaluations-CqwW5TBi.js";import"./CourseInstructors-Dfde5EU7.js";import"./UserAvatar-D_gN1iLa.js";import"./DateRange-CMguaU_1.js";import"./use-resolve-button-type-Bt-hu_zP.js";const ge={key:0,class:"mt-10"},fe={class:"flex items-center justify-between mb-3"},he={class:"font-semibold text-lg text-ink-gray-9"},ve={class:"flex items-center space-x-1 text-ink-gray-5 text-xs"},ye={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"},pe={key:1,class:"mt-10"},ke={class:"flex items-center justify-between mb-3"},xe={class:"font-semibold text-lg text-ink-gray-9"},be={class:"flex items-center space-x-1 text-ink-gray-5 text-xs"},$e={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5"},Ce={class:"grid grid-cols-2 gap-5 mt-10"},we={key:0},Ye={class:"font-semibold text-lg mb-3 text-ink-gray-9"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},De={class:"border rounded-md p-2"},Se={class:"font-semibold text-ink-gray-9 text-lg mb-1"},je={class:"text-ink-gray-7 text-sm leading-5 mb-4"},Ve={class:"mt-auto space-y-3 text-ink-gray-7 text-sm"},Be={class:"flex items-center space-x-2"},Ee={class:"flex items-center space-x-2"},Te={key:0,class:"flex items-center space-x-2 text-ink-gray-9 mt-auto"},Ie=["href"],Le=["href"],He={class:"flex items-center space-x-2 text-ink-amber-3 w-fit"},Ne=z({__name:"StudentHome",props:{myLiveClasses:{}},setup(f){const m=H("$dayjs"),c=H("$user"),_=j({url:"wg_lms.lms.utils.get_my_courses",auto:!0}),g=j({url:"wg_lms.lms.utils.get_my_batches",auto:!0}),x=n=>{const b=new Date(`${n.date}T${n.time}`);return new Date(b.getTime()+n.duration*6e4)},v=n=>!(n.date<m().format("YYYY-MM-DD")||n.date>m().format("YYYY-MM-DD")||y(n)),y=n=>{const b=x(n);return new Date>b};return(n,b)=>{var w,Y,h,u,p;const o=O("router-link");return a(),i("div",null,[(w=t(_).data)!=null&&w.length?(a(),i("div",ge,[e("div",fe,[e("span",he,s(t(_).data[0].membership?n.__("My Courses"):n.__("Our Popular Courses")),1),r(o,{to:{name:"Courses"}},{default:k(()=>[e("span",ve,[e("span",null,s(n.__("See all")),1),r(t(N),{class:"size-3 stroke-1.5"})])]),_:1})]),e("div",ye,[(a(!0),i(V,null,B(t(_).data,d=>(a(),M(o,{to:{name:"CourseDetail",params:{courseName:d.name}}},{default:k(()=>[r(ee,{course:d},null,8,["course"])]),_:2},1032,["to"]))),256))])])):C("",!0),(Y=t(g).data)!=null&&Y.length?(a(),i("div",pe,[e("div",ke,[e("span",xe,s((u=t(g).data)!=null&&u[0].students.includes((h=t(c).data)==null?void 0:h.name)?n.__("My Batches"):n.__("Our Upcoming Batches")),1),r(o,{to:{name:"Batches"}},{default:k(()=>[e("span",be,[e("span",null,s(n.__("See all")),1),r(t(N),{class:"size-3 stroke-1.5"})])]),_:1})]),e("div",$e,[(a(!0),i(V,null,B(t(g).data,d=>(a(),M(o,{to:{name:"BatchDetail",params:{batchName:d.name}}},{default:k(()=>[r(te,{batch:d},null,8,["batch"])]),_:2},1032,["to"]))),256))])])):C("",!0),e("div",Ce,[r(me,{forHome:!0}),(p=f.myLiveClasses.data)!=null&&p.length?(a(),i("div",we,[e("div",Ye,s(n.__("Upcoming Live Classes")),1),e("div",Me,[(a(!0),i(V,null,B(f.myLiveClasses.data,d=>{var $,D;return a(),i("div",De,[e("div",Se,s(d.title),1),e("div",je,s(d.description),1),e("div",Ve,[e("div",Be,[r(t(P),{class:"w-4 h-4 stroke-1.5"}),e("span",null,s(t(m)(d.date).format("DD MMMM YYYY")),1)]),e("div",Ee,[r(t(R),{class:"w-4 h-4 stroke-1.5"}),e("span",null,s(t(F)(d.time))+" - "+s(t(m)(x(d)).format("HH:mm A")),1)]),v(d)?(a(),i("div",Te,[($=t(c).data)!=null&&$.is_moderator||(D=t(c).data)!=null&&D.is_evaluator?(a(),i("a",{key:0,href:d.start_url,target:"_blank",class:K(["cursor-pointer inline-flex items-center justify-center gap-2 transition-colors focus:outline-none text-ink-gray-8 bg-surface-gray-2 hover:bg-surface-gray-3 active:bg-surface-gray-4 focus-visible:ring focus-visible:ring-outline-gray-3 h-7 text-base px-2 rounded",d.join_url?"w-full":"w-1/2"])},[r(t(Q),{class:"h-4 w-4 stroke-1.5"}),L(" "+s(n.__("Start")),1)],10,Ie)):C("",!0),e("a",{href:d.join_url,target:"_blank",class:"w-full cursor-pointer inline-flex items-center justify-center gap-2 transition-colors focus:outline-none text-ink-gray-8 bg-surface-gray-2 hover:bg-surface-gray-3 active:bg-surface-gray-4 focus-visible:ring focus-visible:ring-outline-gray-3 h-7 text-base px-2 rounded"},[r(t(W),{class:"h-4 w-4 stroke-1.5"}),L(" "+s(n.__("Join")),1)],8,Le)])):y(d)?(a(),M(t(X),{key:1,text:n.__("This class has ended"),placement:"right"},{default:k(()=>[e("div",He,[r(t(Z),{class:"w-4 h-4 stroke-1.5"}),e("span",null,s(n.__("Ended")),1)])]),_:1},8,["text"])):C("",!0)])])}),256))])])):C("",!0)])])}}}),ze={key:0,class:"mt-10"},Ue={class:"flex items-center justify-between mb-3"},Ae={class:"font-semibold text-lg text-ink-gray-9"},Pe={class:"flex items-center space-x-1 text-ink-gray-5 text-xs"},Re={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5"},Fe={key:1,class:"mt-10"},qe={class:"flex items-center justify-between mb-3"},Ge={class:"font-semibold text-lg"},Je={class:"flex items-center space-x-1 text-ink-gray-5 text-xs"},Oe={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-5"},Ke={key:2,class:"flex flex-col items-center justify-center mt-60"},Qe={class:"text-lg font-semibold text-ink-gray-7 mb-1.5"},We={class:"leading-5 text-base w-full md:w-2/5 text-base text-center text-ink-gray-7"},Xe={class:"grid grid-cols-2 gap-5 mt-10"},Ze={key:0},et={class:"font-semibold text-lg mb-3"},tt={class:"grid grid-cols-1 lg:grid-cols-2 gap-5"},st={class:"font-semibold text-ink-gray-9 text-lg mb-1"},at={class:"text-ink-gray-7 text-sm"},ot={class:"flex items-center mb-2"},nt={class:"ml-2"},rt={class:"flex items-center mb-2"},lt={class:"ml-2"},it={class:"flex items-center"},dt={class:"ml-2"},ct={key:1},ut={class:"font-semibold text-lg mb-3"},_t={class:"grid grid-cols-1 lg:grid-cols-2 gap-5"},mt={class:"border rounded-md p-3"},gt={class:"font-semibold text-ink-gray-9 text-lg mb-1"},ft={class:"text-ink-gray-7 text-sm leading-5 mb-4"},ht={class:"mt-auto space-y-3 text-ink-gray-7 text-sm"},vt={class:"flex items-center space-x-2"},yt={class:"flex items-center space-x-2"},pt={key:0,class:"flex items-center space-x-2 text-ink-gray-9 mt-auto"},kt=["href"],xt=["href"],bt={class:"flex items-center space-x-2 text-ink-amber-3 w-fit"},$t=z({__name:"AdminHome",props:{liveClasses:{},evals:{}},setup(f){const m=H("$user"),c=H("$dayjs"),_=se(),g=j({url:"wg_lms.lms.utils.get_created_courses",auto:!0}),x=j({url:"wg_lms.lms.utils.get_created_batches",auto:!0}),v=o=>{const w=new Date(`${o.date}T${o.time}`);return new Date(w.getTime()+o.duration*6e4)},y=o=>!(o.date<c().format("YYYY-MM-DD")||o.date>c().format("YYYY-MM-DD")||n(o)),n=o=>{const w=v(o);return new Date>w},b=()=>{var o;_.push({name:"ProfileEvaluationSchedule",params:{username:(o=m.data)==null?void 0:o.username}})};return(o,w)=>{var h,u,p,d,$,D,E,T,I,S;const Y=O("router-link");return a(),i("div",null,[(h=t(g).data)!=null&&h.length?(a(),i("div",ze,[e("div",Ue,[e("span",Ae,s(o.__("Courses Created")),1),r(Y,{to:{name:"Courses"}},{default:k(()=>[e("span",Pe,[e("span",null,s(o.__("See all")),1),r(t(N),{class:"size-3 stroke-1.5"})])]),_:1})]),e("div",Re,[(a(!0),i(V,null,B(t(g).data,l=>(a(),M(Y,{to:{name:"CourseDetail",params:{courseName:l.name}}},{default:k(()=>[r(ee,{course:l},null,8,["course"])]),_:2},1032,["to"]))),256))])])):C("",!0),(u=t(x).data)!=null&&u.length?(a(),i("div",Fe,[e("div",qe,[e("span",Ge,s(o.__("Upcoming Batches")),1),r(Y,{to:{name:"Batches"}},{default:k(()=>[e("span",Je,[e("span",null,s(o.__("See all")),1),r(t(N),{class:"size-3 stroke-1.5"})])]),_:1})]),e("div",Oe,[(a(!0),i(V,null,B(t(x).data,l=>(a(),M(Y,{to:{name:"BatchDetail",params:{batchName:l.name}}},{default:k(()=>[r(te,{batch:l},null,8,["batch"])]),_:2},1032,["to"]))),256))])])):C("",!0),!((p=t(g).data)!=null&&p.length)&&!((d=t(x).data)!=null&&d.length)?(a(),i("div",Ke,[r(t(G),{class:"size-10 mx-auto stroke-1 text-ink-gray-5"}),e("div",Qe,s(o.__("No courses created")),1),e("div",We,s(o.__("There are no courses currently. Create your first course to get started!")),1),r(Y,{to:{name:"CourseForm",params:{courseName:"new"}},class:"mt-4"},{default:k(()=>[r(t(ae),null,{prefix:k(()=>[r(t(oe),{class:"size-4 stroke-1.5"})]),default:k(()=>[L(" "+s(o.__("Create Course")),1)]),_:1})]),_:1})])):C("",!0),e("div",Xe,[(D=($=f.evals)==null?void 0:$.data)!=null&&D.length?(a(),i("div",Ze,[e("div",et,s(o.__("Upcoming Evaluations")),1),e("div",tt,[(a(!0),i(V,null,B((E=f.evals)==null?void 0:E.data,l=>(a(),i("div",{class:"border rounded-md p-3 flex flex-col h-full cursor-pointer",onClick:w[0]||(w[0]=U=>b())},[e("div",st,s(l.course_title),1),e("div",at,[e("div",ot,[r(t(P),{class:"w-4 h-4 stroke-1.5"}),e("span",nt,s(t(c)(l.date).format("DD MMMM YYYY")),1)]),e("div",rt,[r(t(R),{class:"w-4 h-4 stroke-1.5"}),e("span",lt,s(t(F)(l.start_time)),1)]),e("div",it,[r(t(G),{class:"w-4 h-4 stroke-1.5"}),e("span",dt,s(l.member_name),1)])])]))),256))])])):C("",!0),(I=(T=f.liveClasses)==null?void 0:T.data)!=null&&I.length?(a(),i("div",ct,[e("div",ut,s(o.__("Upcoming Live Classes")),1),e("div",_t,[(a(!0),i(V,null,B((S=f.liveClasses)==null?void 0:S.data,l=>{var U,q;return a(),i("div",mt,[e("div",gt,s(l.title),1),e("div",ft,s(l.description),1),e("div",ht,[e("div",vt,[r(t(P),{class:"w-4 h-4 stroke-1.5"}),e("span",null,s(t(c)(l.date).format("DD MMMM YYYY")),1)]),e("div",yt,[r(t(R),{class:"w-4 h-4 stroke-1.5"}),e("span",null,s(t(F)(l.time))+" - "+s(t(c)(v(l)).format("HH:mm A")),1)]),y(l)?(a(),i("div",pt,[(U=t(m).data)!=null&&U.is_moderator||(q=t(m).data)!=null&&q.is_evaluator?(a(),i("a",{key:0,href:l.start_url,target:"_blank",class:K(["cursor-pointer inline-flex items-center justify-center gap-2 transition-colors focus:outline-none text-ink-gray-8 bg-surface-gray-2 hover:bg-surface-gray-3 active:bg-surface-gray-4 focus-visible:ring focus-visible:ring-outline-gray-3 h-7 text-base px-2 rounded",l.join_url?"w-full":"w-1/2"])},[r(t(Q),{class:"h-4 w-4 stroke-1.5"}),L(" "+s(o.__("Start")),1)],10,kt)):C("",!0),e("a",{href:l.join_url,target:"_blank",class:"w-full cursor-pointer inline-flex items-center justify-center gap-2 transition-colors focus:outline-none text-ink-gray-8 bg-surface-gray-2 hover:bg-surface-gray-3 active:bg-surface-gray-4 focus-visible:ring focus-visible:ring-outline-gray-3 h-7 text-base px-2 rounded"},[r(t(W),{class:"h-4 w-4 stroke-1.5"}),L(" "+s(o.__("Join")),1)],8,xt)])):n(l)?(a(),M(t(X),{key:1,text:o.__("This class has ended"),placement:"right"},{default:k(()=>[e("div",bt,[r(t(Z),{class:"w-4 h-4 stroke-1.5"}),e("span",null,s(o.__("Ended")),1)])]),_:1},8,["text"])):C("",!0)])])}),256))])])):C("",!0)])])}}}),Ct={class:"text-base"},wt={class:"text-center"},Yt={class:"mt-3"},Mt={class:"text-ink-gray-5 mb-1"},Dt={class:"font-semibold text-xl text-ink-gray-9"},St={class:"grid grid-cols-2 bg-surface-gray-1 px-2.5 py-2 rounded-md mt-8"},jt={class:"space-y-1 border-r border-outline-gray-2 mr-4"},Vt={class:"text-ink-gray-6"},Bt={class:"font-semibold text-lg text-ink-gray-9"},Et={class:"space-y-1"},Tt={class:"text-ink-gray-6"},It={class:"font-semibold text-lg text-ink-gray-9"},Lt={class:"text-ink-gray-7 border border-outline-gray-1 px-2.5 py-2 rounded-md text-xs leading-5 mt-5"},Ht=z({__name:"Streak",props:ne({streakInfo:{}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const m=re(f,"modelValue");return(c,_)=>(a(),M(t(le),{modelValue:m.value,"onUpdate:modelValue":_[0]||(_[0]=g=>m.value=g),options:{title:c.__("Learning Consistency")}},{"body-content":k(()=>{var g,x,v,y,n;return[e("div",Ct,[e("div",wt,[_[1]||(_[1]=e("div",{class:"text-[30px]"},"ðŸ”¥",-1)),e("div",Yt,[e("div",Mt,s(((g=f.streakInfo.data)==null?void 0:g.current_streak)<1?c.__("You can do better,"):((x=f.streakInfo.data)==null?void 0:x.current_streak)<10?c.__("Keep going,"):c.__("You rock,"))+" "+s(c.__(" you are on a")),1),e("div",Dt,s((v=f.streakInfo.data)==null?void 0:v.current_streak)+" "+s(c.__("day streak")),1)])]),e("div",St,[e("div",jt,[e("div",Vt,s(c.__("Current Streak")),1),e("div",Bt,s((y=f.streakInfo.data)==null?void 0:y.current_streak)+" "+s(c.__("days")),1)]),e("div",Et,[e("div",Tt,s(c.__("Longest Streak")),1),e("div",It,s((n=f.streakInfo.data)==null?void 0:n.longest_streak)+" "+s(c.__("days")),1)])]),e("div",Lt,s(c.__("Your learning streak counts the number of days in a row youâ€™ve kept up your learning, whether itâ€™s a lesson, quiz, or assignment. Donâ€™t worry, weekends donâ€™t break your streak.")),1)])]}),_:1},8,["modelValue","options"]))}}),Nt={class:"w-full px-5 pt-5 pb-10"},zt={class:"space-y-2"},Ut={class:"flex items-center justify-between"},At={class:"text-xl font-bold text-ink-gray-9"},Pt={class:"text-ink-gray-9"},Rt={class:"text-lg text-ink-gray-6 leading-6"},Zt=z({__name:"Home",setup(f){const m=H("$user"),{brand:c}=ie(),_=A(0),g=A("instructor"),x=A(!1);de(()=>{ce("wg_lms.lms.utils.get_upcoming_evals").then(h=>{_.value=h.length})});const v=J(()=>{var h,u,p;return((h=m.data)==null?void 0:h.is_moderator)||((u=m.data)==null?void 0:u.is_instructor)||((p=m.data)==null?void 0:p.is_evaluator)}),y=j({url:"wg_lms.lms.utils.get_my_live_classes",auto:!v.value}),n=j({url:"wg_lms.lms.utils.get_admin_live_classes",auto:!!v.value}),b=j({url:"wg_lms.lms.utils.get_admin_evals",auto:!!v.value}),o=j({url:"wg_lms.lms.utils.get_streak_info",auto:!0}),w=J(()=>{var h,u,p,d,$,D,E,T,I;if(v.value){let S=((h=n.data)==null?void 0:h.length)>1?__("live classes"):__("live class"),l=((u=b.data)==null?void 0:u.length)>1?__("evaluations"):__("evaluation");return((p=n.data)==null?void 0:p.length)>0&&((d=b.data)==null?void 0:d.length)>0?__("You have {0} upcoming {1} and {2} {3} scheduled.").format(n.data.length,S,b.data.length,l):(($=n.data)==null?void 0:$.length)>0?__("You have {0} upcoming {1}.").format(n.data.length,S):((D=b.data)==null?void 0:D.length)>0?__("You have {0} {1} scheduled.").format(b.data.length,l):__("Manage your courses and batches at a glance")}else{let S=((E=y.data)==null?void 0:E.length)>1?__("live classes"):__("live class"),l=_.value>1?__("evaluations"):__("evaluation");return((T=y.data)==null?void 0:T.length)>0&&_.value>0?__("You have {0} upcoming {1} and {2} {3} scheduled.").format(y.data.length,S,_.value,l):((I=y.data)==null?void 0:I.length)>0?__("You have {0} upcoming {1}.").format(y.data.length,S):_.value>0?__("You have {0} {1} scheduled.").format(_.value,l):__("Resume where you left off")}}),Y=[{label:__("Student"),value:"student"},{label:__("Instructor"),value:"instructor"}];return ue(()=>({title:__("Home"),icon:c.favicon})),(h,u)=>{var p,d;return a(),i(V,null,[e("div",Nt,[e("div",zt,[e("div",Ut,[e("div",At,s(h.__("Hey"))+", "+s((p=t(m).data)==null?void 0:p.full_name)+" ðŸ‘‹ ",1),e("div",null,[v.value?(a(),M(t(_e),{key:0,modelValue:g.value,"onUpdate:modelValue":u[0]||(u[0]=$=>g.value=$),buttons:Y},null,8,["modelValue"])):(a(),i("div",{key:1,onClick:u[1]||(u[1]=$=>x.value=!0),class:"bg-surface-amber-2 px-2 py-1 rounded-md cursor-pointer"},[u[3]||(u[3]=e("span",null," ðŸ”¥ ",-1)),e("span",Pt,s((d=t(o).data)==null?void 0:d.current_streak),1)]))])]),e("div",Rt,s(w.value),1)]),v.value&&g.value==="instructor"?(a(),M($t,{key:0,liveClasses:t(n),evals:t(b)},null,8,["liveClasses","evals"])):(a(),M(Ne,{key:1,myLiveClasses:t(y)},null,8,["myLiveClasses"]))]),r(Ht,{modelValue:x.value,"onUpdate:modelValue":u[2]||(u[2]=$=>x.value=$),streakInfo:t(o)},null,8,["modelValue","streakInfo"])],64)}}});export{Zt as default};
//# sourceMappingURL=Home-Cd-rAo6i.js.map
