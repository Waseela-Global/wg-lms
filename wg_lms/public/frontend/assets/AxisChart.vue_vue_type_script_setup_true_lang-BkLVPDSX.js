import{u as h,_ as b}from"./ECharts.vue_vue_type_script_setup_true_lang-CahjvLlX.js";import{m as c,f as w}from"./NumberChart.vue_vue_type_script_setup_true_lang-Dp5gNzOs.js";import{d as S,y as f,B as O,h as _,o as v}from"./index-CZIp1LU6.js";function k(e){const s=e.data||[],a=h(e);if(e.xAxis.type==="time"&&e.swapXY)throw new Error("Swap axes is not supported for time series data");if(e.series.find(t=>t.axis==="y2"||t.type!=="bar")&&e.swapXY)throw new Error("Swap axes is not supported for non-bar series or y2 axis");const r=e.swapXY,n=e.series.slice().reverse().findIndex(t=>t.type==="bar");return e.series.some(t=>t.axis==="y2")&&(a.yAxis[1].show=!0),a.series=e.series.map((t,m)=>{let u="top";t.type=="bar"&&e.stacked&&(u=m==n?"top":"inside"),t.type=="bar"&&r&&(u="right");const x={type:t.type,name:t.name,data:s.map(o=>{let p,i;return r?(p=o[t.name],i=o[e.xAxis.key]):(p=o[e.xAxis.key],i=o[t.name]),[p,i]}),yAxisIndex:t.axis==="y2"?1:0,label:{show:t.showDataLabels,position:u,formatter:o=>{var i,d;const p=r?(i=o.value)==null?void 0:i[0]:(d=o.value)==null?void 0:d[1];return w(p,1,!0)},fontSize:11},labelLayout:{hideOverlap:!0},itemStyle:{color:t.color}};let l={};return t.type==="bar"&&(l=A(e,t)),t.type==="line"&&(l=B(e,t)),t.type==="area"&&(l=I(e,t)),c(x,l,t.echartOptions)}),c(a,e.echartOptions)}function A(e,s){const a=e.swapXY?[0,2,2,0]:[2,2,0,0],r=e.series.findIndex(t=>t.name===s.name),y=e.series.slice().reverse().findIndex(t=>t.type==="bar")===r;return{stack:e.stacked?"stack":void 0,barMaxWidth:60,itemStyle:{borderRadius:e.stacked?y?a:0:a}}}function B(e,s){return{connectNulls:!0,symbol:"circle",symbolSize:7,showSymbol:s.showDataPoints||s.showDataLabels,emphasis:{},lineStyle:{width:s.lineWidth||2,type:s.lineType}}}function I(e,s){return{type:"line",showSymbol:s.showDataPoints,areaStyle:{color:s.color,opacity:s.fillOpacity||.5}}}const X=S({__name:"AxisChart",props:{config:{}},setup(e){const s=e,a=f(""),r=O(()=>{try{return k(s.config)}catch(n){return a.value=n.message,{}}});return(n,y)=>(v(),_(b,{options:r.value,error:a.value},null,8,["options","error"]))}});export{X as _};
//# sourceMappingURL=AxisChart.vue_vue_type_script_setup_true_lang-BkLVPDSX.js.map
