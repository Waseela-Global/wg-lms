{"version":3,"file":"CertificationLinks-B_f1MWmY.js","sources":["../../../../frontend/src/components/CertificationLinks.vue"],"sourcesContent":["<template>\n\t<Button\n\t\tv-if=\"certification.data && certification.data.certificate\"\n\t\t@click=\"downloadCertificate\"\n\t\tclass=\"\"\n\t>\n\t\t<template #prefix>\n\t\t\t<GraduationCap class=\"size-4 stroke-1.5\" />\n\t\t</template>\n\t\t{{ __('View Certificate') }}\n\t</Button>\n\t<div\n\t\tv-else-if=\"\n\t\t\tcertification.data &&\n\t\t\tcertification.data.membership &&\n\t\t\tcertification.data.paid_certificate &&\n\t\t\tuser.data?.is_student\n\t\t\"\n\t>\n\t\t<router-link\n\t\t\tv-if=\"!certification.data.membership.purchased_certificate\"\n\t\t\t:to=\"{\n\t\t\t\tname: 'Billing',\n\t\t\t\tparams: {\n\t\t\t\t\ttype: 'certificate',\n\t\t\t\t\tname: courseName,\n\t\t\t\t},\n\t\t\t}\"\n\t\t>\n\t\t\t<Button class=\"w-full\">\n\t\t\t\t<template #prefix>\n\t\t\t\t\t<GraduationCap class=\"size-4 stroke-1.5\" />\n\t\t\t\t</template>\n\t\t\t\t{{ __('Get Certified') }}\n\t\t\t</Button>\n\t\t</router-link>\n\t\t<router-link\n\t\t\tv-else-if=\"!certification.data.membership.certificate\"\n\t\t\t:to=\"{\n\t\t\t\tname: 'CourseCertification',\n\t\t\t\tparams: {\n\t\t\t\t\tcourseName: courseName,\n\t\t\t\t},\n\t\t\t}\"\n\t\t>\n\t\t\t<Button class=\"w-full\">\n\t\t\t\t<template #prefix>\n\t\t\t\t\t<GraduationCap class=\"size-4 stroke-1.5\" />\n\t\t\t\t</template>\n\t\t\t\t{{ __('Get Certified') }}\n\t\t\t</Button>\n\t\t</router-link>\n\t</div>\n</template>\n<script setup>\nimport { Button, createResource } from 'frappe-ui'\nimport { inject } from 'vue'\nimport { GraduationCap } from 'lucide-vue-next'\n\nconst user = inject('$user')\n\nconst props = defineProps({\n\tcourseName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst certification = createResource({\n\turl: 'lms.lms.api.get_certification_details',\n\tparams: {\n\t\tcourse: props.courseName,\n\t},\n\tauto: user.data ? true : false,\n\tcache: ['certificationData', user.data?.name],\n})\n\nconst downloadCertificate = () => {\n\twindow.open(\n\t\t`/api/method/frappe.utils.print_format.download_pdf?doctype=LMS+Certificate&name=${\n\t\t\tcertification.data.certificate.name\n\t\t}&format=${encodeURIComponent(certification.data.certificate.template)}`\n\t)\n}\n</script>\n"],"names":["user","inject","certification","createResource","__props","_a","downloadCertificate","_unref","_createBlock","Button","_createVNode","GraduationCap","_createTextVNode","__","_createElementBlock","_hoisted_1","_component_router_link"],"mappings":"8OA2DA,MAAMA,EAAOC,EAAO,OAAO,EASrBC,EAAgBC,EAAe,CACpC,IAAK,wCACL,OAAQ,CACP,OAVYC,EAUE,UAChB,EACC,KAAM,EAAAJ,EAAK,KACX,MAAO,CAAC,qBAAqBK,EAAAL,EAAK,OAAL,YAAAK,EAAW,IAAI,CAC7C,CAAC,EAEKC,EAAsB,IAAM,CACjC,OAAO,KACN,mFACCJ,EAAc,KAAK,YAAY,IAClC,WAAa,mBAAmBA,EAAc,KAAK,YAAY,QAAQ,CAAC,EACxE,CACA,+CAjFQ,OAAAK,EAAAL,CAAA,EAAc,MAAQK,KAAc,KAAK,iBADhDC,EASSD,EAAAE,CAAA,EAAA,OAPP,QAAOH,EACR,MAAM,KAEK,SACV,IAA2C,CAA3CI,EAA2CH,EAAAI,CAAA,EAAA,CAA5B,MAAM,mBAAmB,CAAA,cAC9B,IACX,CADWC,EAAA,MACRC,EAAAA,GAAE,kBAAA,CAAA,EAAA,CAAA,WAGUN,EAAAL,CAAA,EAAc,MAAWK,EAAAL,CAAA,EAAc,KAAK,YAAiBK,EAAAL,CAAA,EAAc,KAAK,oBAAuBK,EAAAA,EAAAP,CAAA,EAAK,OAALO,MAAAA,EAAW,iBADlIO,EAyCM,MAAAC,EAAA,CAhCGR,EAAAL,CAAA,EAAc,KAAK,WAAW,sBAiBzBK,EAAAL,CAAA,EAAc,KAAK,WAAW,0BAD3CM,EAecQ,EAAA,OAbZ,GAAE,+CAAoEZ,EAAA,yBAOvE,IAKS,CALTM,EAKSH,EAAAE,CAAA,EAAA,CALD,MAAM,QAAQ,EAAA,CACV,SACV,IAA2C,CAA3CC,EAA2CH,EAAAI,CAAA,EAAA,CAA5B,MAAM,mBAAmB,CAAA,cAC9B,IACX,CADWC,EAAA,MACRC,EAAAA,GAAE,eAAA,CAAA,EAAA,CAAA,iCA9BPL,EAgBcQ,EAAA,OAdZ,GAAE,gDAA4EZ,EAAA,yBAQ/E,IAKS,CALTM,EAKSH,EAAAE,CAAA,EAAA,CALD,MAAM,QAAQ,EAAA,CACV,SACV,IAA2C,CAA3CC,EAA2CH,EAAAI,CAAA,EAAA,CAA5B,MAAM,mBAAmB,CAAA,cAC9B,IACX,CADWC,EAAA,MACRC,EAAAA,GAAE,eAAA,CAAA,EAAA,CAAA"}